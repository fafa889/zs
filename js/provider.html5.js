/*!
   JW Player version 8.16.0
   Copyright (c) 2020, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.16.0/notice.txt
*/
(window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[]).push([[16],{118:function(e,t,r){"use strict";var n=r(3),a=r(55),i={canplay:function(){this.renderNatively&&this.setTextTracks(this.video.textTracks),this.trigger(n.E)},play:function(){this.stallTime=-1,this.video.paused||this.state===n.qb||this.setState(n.ob)},loadedmetadata:function(){var e={metadataType:"media",duration:this.getDuration(),height:this.video.videoHeight,width:this.video.videoWidth,seekRange:this.getSeekRange()},t=this.drmUsed;t&&(e.drm=t),this.trigger(n.K,e)},loadeddata:function(){},timeupdate:function(){var e=this.video.currentTime,t=this.getCurrentTime(),r=this.getDuration();if(!isNaN(r)){this.seeking||this.video.paused||this.state!==n.rb&&this.state!==n.ob||this.stallTime===e||(this.stallTime=-1,this.setState(n.qb),this.trigger(n.gb));var a={position:t,duration:r,currentTime:e,seekRange:this.getSeekRange(),metadata:{currentTime:e}};if(this.getPtsOffset){var i=this.getPtsOffset();i>=0&&(a.metadata.mpegts=i+t)}var s=this.getLiveLatency();null!==s&&(a.latency=s),(this.state===n.qb||this.seeking)&&this.trigger(n.S,a)}},click:function(e){this.trigger(n.n,e)},volumechange:function(){var e=this.video;this.trigger(n.V,{volume:Math.round(100*e.volume)}),this.trigger(n.M,{mute:e.muted})},seeked:function(){this.seeking&&(this.seeking=!1,this.trigger(n.R))},playing:function(){-1===this.stallTime&&this.setState(n.qb),this.trigger(n.gb)},pause:function(){this.state!==n.lb&&(this.video.ended||this.video.error||this.video.currentTime!==this.video.duration&&this.setState(n.pb))},progress:function(){var e=this.getDuration();if(!(e<=0||e===1/0)){var t=this.video.buffered;if(t&&0!==t.length){var r=Object(a.a)(t.end(t.length-1)/e,0,1);this.trigger(n.D,{bufferPercent:100*r,position:this.getCurrentTime(),duration:e,currentTime:this.video.currentTime,seekRange:this.getSeekRange()})}}},ratechange:function(){this.trigger(n.P,{playbackRate:this.video.playbackRate})},ended:function(){this.videoHeight=0,this.streamBitrate=-1,this.state!==n.nb&&this.state!==n.lb&&this.trigger(n.F)}};t.a=i},119:function(e,t,r){"use strict";var n=r(5),a=r(11),i=r(90),s={container:null,volume:function(e){this.video.volume=Math.min(Math.max(0,e/100),1)},mute:function(e){this.video.muted=!!e,this.video.muted||this.video.removeAttribute("muted")},resize:function(e,t,r){var i=this.video,s=i.videoWidth,o=i.videoHeight;if(e&&t&&s&&o){var c={objectFit:"",width:"",height:""};if("uniform"===r){var u=e/t,d=s/o,l=Math.abs(u-d);l<.09&&l>.0025&&(c.objectFit="fill",r="exactfit")}if(n.Browser.ie||n.OS.iOS&&n.OS.version.major<9||n.Browser.androidNative)if("uniform"!==r){c.objectFit="contain";var h=e/t,f=s/o,v=1,T=1;"none"===r?v=T=h>f?Math.ceil(100*o/t)/100:Math.ceil(100*s/e)/100:"fill"===r?v=T=h>f?h/f:f/h:"exactfit"===r&&(h>f?(v=h/f,T=1):(v=1,T=f/h)),Object(a.e)(i,"matrix("+v.toFixed(2)+", 0, 0, "+T.toFixed(2)+", 0, 0)")}else c.top=c.left=c.margin="",Object(a.e)(i,"");Object(a.d)(i,c)}},getContainer:function(){return this.container},setContainer:function(e){this.container=e,this.video.parentNode!==e&&e.appendChild(this.video)},remove:function(){this.stop(),this.destroy();var e=this.container;e&&e===this.video.parentNode&&e.removeChild(this.video)},atEdgeOfLiveStream:function(){if(!this.isLive())return!1;return Object(i.a)(this.video.buffered)-this.video.currentTime<=2}};t.a=s},120:function(e,t,r){"use strict";t.a={eventsOn_:function(){},eventsOff_:function(){},attachMedia:function(){this.eventsOn_()},detachMedia:function(){return this.eventsOff_()}}},121:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return i}));var n=r(1);function a(e,t,r){var a=e+1e3,s=n.o;return t>0?(403===t&&(s=n.q),a+=i(t)):"http:"===(""+r).substring(0,5)&&"https:"===document.location.protocol?a+=12:0===t&&(a+=11),{code:a,key:s}}var i=function(e){return e>=400&&e<600?e:6}},144:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),a=r(3);function i(e,t){var r=e[t];return!Object(n.u)(r)&&r>=0?r:null}function s(e,t,r){var n=function(e,t,r){var n=i(r,"startPTS"),a=null===n?i(r,"start"):n;if(null===a)return null;switch(e){case"PROGRAM-DATE-TIME":var s=i(r,"duration");return{metadataType:"program-date-time",programDateTime:t,start:a,end:a+s};case"EXT-X-DATERANGE":var o={},c=t.split(",").map((function(e){var t=e.split("="),r=t[0],n=(t[1]||"").replace(/^"|"$/g,"");return o[r]=n,{name:r,value:n}})),u=o["START-DATE"],d=o["END-DATE"],l=a;r.programDateTime&&(l+=(new Date(u)-new Date(r.programDateTime))/1e3);var h=parseFloat(o["PLANNED-DURATION"]||o.DURATION)||0;return!h&&d&&(h=(new Date(d)-new Date(u))/1e3),{metadataType:"date-range",tag:e,content:t,attributes:c,start:l,end:l+h,startDate:u,endDate:d,duration:h};case"EXT-X-CUE-IN":case"EXT-X-CUE-OUT":var f=parseFloat(t)||0;return{metadataType:"scte-35",tag:e,content:t,start:a,end:a+f};case"DISCONTINUITY":var v=i(r,"duration"),T=a+v;return{metadataType:"discontinuity",tag:e,discontinuitySequence:r.cc,PTS:t,start:a,end:T};default:return null}}(e,t,r);if(n){var s=this.createCue(n.start,n.end,JSON.stringify(n)),o=r.sn+"_"+e+"_"+t;if(this.addVTTCue({type:"metadata",cue:s},o)){var c=n.metadataType;delete n.metadataType,this.trigger(a.L,{metadataType:c,metadata:n})}}}},53:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(47),i=r(3),s=r(92),o=r(5),c=r(68),u=r(118),d=r(119),l=r(120),h=r(82),f=r(11),v=r(6),T=r(60),g=r(9),m=r(88),p=r(90),b=r(79),k=r(18),y=r(1),x=window.clearTimeout,w=function(){};function _(e,t){Object.keys(e).forEach((function(r){t.removeEventListener(r,e[r])}))}function C(e,t,r){var a=this;a.state=i.nb,a.seeking=!1,a.currentTime=-1,a.retries=0,a.maxRetries=3;var T=t.loadAndParseHlsMetadata,C=t.minDvrWindow;a.loadAndParseHlsMetadata=void 0===T||!!T;var O,L={progress:function(){u.a.progress.call(a),he()},timeupdate:function(){a.currentTime>=0&&(a.retries=0),a.currentTime=j.currentTime,P&&I!==j.currentTime&&Y(j.currentTime),u.a.timeupdate.call(a),he(),o.Browser.ie&&J()},resize:J,ended:function(){M=-1,fe(),u.a.ended.call(a)},loadedmetadata:function(){var e=a.getDuration();W&&e===1/0&&(e=0);var t={metadataType:"media",duration:e,height:j.videoHeight,width:j.videoWidth,seekRange:a.getSeekRange()};a.trigger(i.K,t),J()},durationchange:function(){W||u.a.progress.call(a)},loadeddata:function(){var e;!function(){var e=j;if(e.getStartDate){var t=e.getStartDate(),r=t.getTime?t.getTime():NaN;r===a.startDateTime||isNaN(r)||a.setStartDateTime(r)}}(),u.a.loadeddata.call(a),function(e){if(X=null,!e)return;if(e.length){for(var t=0;t<e.length;t++)if(e[t].enabled){H=t;break}-1===H&&(e[H=0].enabled=!0),X=Object(n.A)(e,(function(e){return{name:e.label||e.language,language:e.language}}))}a.addTracksListener(e,"change",oe),X&&a.trigger("audioTracks",{currentTrack:H,tracks:X})}(j.audioTracks),e=a.getDuration(),R&&-1!==R&&e&&e!==1/0&&a.seek(R)},canplay:function(){A=!0,W||le(),J(),u.a.canplay.call(a)},seeking:function(){var e=null!==B?z(B):a.getCurrentTime(),t=z(I);I=B,B=null,R=0,a.seeking=!0,a.trigger(i.Q,{position:t,offset:e})},seeked:function(){u.a.seeked.call(a),a.ensureMetaTracksActive()},waiting:function(){a.seeking?a.setState(i.ob):a.state===i.qb&&(a.atEdgeOfLiveStream()&&a.setPlaybackRate(1),a.stallTime=a.video.currentTime,a.setState(i.rb))},webkitbeginfullscreen:function(e){P=!0,ce(e)},webkitendfullscreen:function(e){P=!1,ce(e)},error:function(){var e=a.video,t=e.error,r=t&&t.code||-1;if((3===r||4===r)&&a.retries<a.maxRetries)return a.trigger(i.ub,new y.s(null,324e3+r-1,t)),a.retries++,j.load(),void(-1!==a.currentTime&&(A=!1,a.seek(a.currentTime),a.currentTime=-1));var n=224e3,s=y.o;1===r?n+=r:2===r?(s=y.l,n=221e3):3===r||4===r?(n+=r-1,4===r&&e.src===location.href&&(n=224005)):s=y.r,ae(),a.trigger(i.G,new y.s(s,n,t))}};Object.keys(u.a).forEach((function(e){if(!L[e]){var t=u.a[e];L[e]=function(e){t.call(a,e)}}})),Object(n.j)(this,g.a,d.a,l.a,m.a,{renderNatively:(O=t.renderCaptionsNatively,!(!o.OS.iOS&&!o.Browser.safari)||O&&o.Browser.chrome),eventsOn_:function(){var e,t;e=L,t=j,Object.keys(e).forEach((function(r){t.removeEventListener(r,e[r]),t.addEventListener(r,e[r])}))},eventsOff_:function(){_(L,j)},detachMedia:function(){l.a.detachMedia.call(a),fe(),this.removeTracksListener(j.textTracks,"change",this.textTrackChangeHandler),this.removeTracksListener(j.textTracks,"addtrack",this.addTrackHandler),this.videoLoad&&(j.load=this.videoLoad),re()&&this.disableTextTrack()},attachMedia:function(){if(l.a.attachMedia.call(a),A=!1,this.seeking=!1,j.loop=!1,o.OS.iOS&&!this.videoLoad){var e=this.videoLoad=j.load;j.load=function(){return j.src===location.href?(ne(S[M]),a.state===i.qb&&j.play(),void a.trigger(i.ub,new y.s(null,324005,new Error("video.load() was called after setting video.src to empty while playing video")))):e.call(j)}}re()&&this.enableTextTrack(),this.renderNatively&&this.setTextTracks(this.video.textTracks),this.addTracksListener(j.textTracks,"change",this.textTrackChangeHandler)},isLive:function(){return j.duration===1/0}});var S,j=r,D={level:{}},N=null!==t.liveTimeout?t.liveTimeout:3e4,A=!1,R=0,B=null,I=null,M=-1,P=!1,U=w,X=null,H=-1,F=-1,V=!1,q=null,W=!1,K=null,G=null,Q=0;function J(){var e=D.level;if(e.width!==j.videoWidth||e.height!==j.videoHeight){if(!j.videoWidth&&!de()||-1===M)return;a.ensureMetaTracksActive(),e.width=j.videoWidth,e.height=j.videoHeight,le(),D.reason=D.reason||"auto",D.mode="hls"===S[M].type?"auto":"manual",D.bitrate=0,e.index=M,e.label=S[M].label,a.trigger(i.U,D),D.reason=""}}function Y(e){I=e}function z(e){var t=a.getSeekRange();return a.isLive()&&Object(h.a)(t.end-t.start,C)?Math.min(0,e-t.end):e}function $(e){var t;return Array.isArray(e)&&e.length>0&&(t=e.map((function(e,t){return{label:e.label||t}}))),t}function Z(e){a.currentTime=-1,C=e.minDvrWindow,S=e.sources,M=function(e){var r=Math.max(0,M),n=t.qualityLabel;if(e)for(var a=0;a<e.length;a++)if(e[a].default&&(r=a),n&&e[a].label===n)return a;D.reason="initial choice",D.level.width&&D.level.height||(D.level={});return r}(S)}function ee(){return j.paused&&j.played&&j.played.length&&a.isLive()&&!Object(h.a)(se()-ie(),C)&&(a.clearTracks(),j.load()),j.play()||Object(b.a)(j)}function te(e){a.currentTime=-1,R=0,fe();var t=j.src,r=document.createElement("source");r.src=S[M].file,r.src!==t?(ne(S[M]),t&&j.load()):0===e&&j.currentTime>0&&(R=-1,a.seek(e)),e>0&&j.currentTime!==e&&a.seek(e);var n=$(S);n&&a.trigger(i.I,{levels:n,currentQuality:M}),S.length&&"hls"!==S[0].type&&le()}function re(){if(!o.Browser.safari)return!0;var e=a.getCurrentTextTrack();return e&&e.sideloaded}function ne(e){X=null,H=-1,D.reason||(D.reason="initial choice",D.level={}),A=!1;var t=document.createElement("source");t.src=e.file,j.src!==t.src&&(j.src=e.file)}function ae(){j&&(a.disableTextTrack(),j.removeAttribute("preload"),j.removeAttribute("src"),Object(v.h)(j),Object(f.d)(j,{objectFit:""}),M=-1,!o.Browser.msie&&"load"in j&&j.load())}function ie(){var e=1/0;return["buffered","seekable"].forEach((function(t){for(var r=j[t],a=r?r.length:0;a--;){var i=Math.min(e,r.start(a));Object(n.s)(i)&&(e=i)}})),e}function se(){var e=0;return["buffered","seekable"].forEach((function(t){for(var r=j[t],a=r?r.length:0;a--;){var i=Math.max(e,r.end(a));Object(n.s)(i)&&(e=i)}})),e}function oe(){for(var e=-1,t=0;t<j.audioTracks.length;t++)if(j.audioTracks[t].enabled){e=t;break}ue(e)}function ce(e){a.trigger(i.X,{target:e.target,jwstate:P})}function ue(e){j&&j.audioTracks&&X&&e>-1&&e<j.audioTracks.length&&e!==H&&(j.audioTracks[H].enabled=!1,H=e,j.audioTracks[H].enabled=!0,a.trigger("audioTrackChanged",{currentTrack:H,tracks:X}))}function de(){if(!(j.readyState<2))return 0===j.videoHeight}function le(){var e=de();if(void 0!==e){var t=e?"audio":"video";a.trigger(i.T,{mediaType:t})}}function he(){if(0!==N){var e=Object(p.a)(j.buffered);a.isLive()&&e&&q===e?-1===F&&(F=setTimeout((function(){V=!0,function(){if(V&&a.atEdgeOfLiveStream())return a.trigger(i.G,new y.s(y.p,E)),!0}()}),N)):(fe(),V=!1),q=e}}function fe(){x(F),F=-1}this.video=j,this.supportsPlaybackRate=!0,this.startDateTime=0,a.setStartDateTime=function(e){a.startDateTime=e;var t=new Date(e).toISOString(),r=a.getSeekRange(),n=r.start,i=r.end,s={metadataType:"program-date-time",programDateTime:t,start:n=Math.max(0,n),end:i=Math.max(n,i+10)},o=a.createCue(n,i,JSON.stringify(s));a.addVTTCue({type:"metadata",cue:o})},a.getCurrentTime=function(){return function(e){var t=a.getSeekRange();if(a.isLive()){if((!G||Math.abs(K-t.end)>1)&&(!function(e){K=e.end,G=Math.min(0,j.currentTime-K),Q=Object(k.a)()}(t),a.ensureMetaTracksActive()),Object(h.a)(t.end-t.start,C))return G}return e}(j.currentTime)},a.getDuration=function(){var e=j.duration;if(W&&e===1/0&&0===j.currentTime||isNaN(e))return 0;var t=se();if(a.isLive()&&t){var r=t-ie();Object(h.a)(r,C)&&(e=-r)}return e},a.getSeekRange=function(){var e={start:0,end:0};return j.seekable.length?(e.end=se(),e.start=ie()):Object(n.s)(j.duration)&&(e.end=j.duration),e},a.getLiveLatency=function(){var e=null,t=se();return a.isLive()&&t&&(e=t+(Object(k.a)()-Q)/1e3-j.currentTime),e},this.stop=function(){fe(),ae(),this.clearTracks(),o.Browser.ie&&j.pause(),this.setState(i.nb)},this.destroy=function(){var e=a.addTrackHandler,t=a.cueChangeHandler,r=a.textTrackChangeHandler,n=j.textTracks;if(a.off(),a.videoLoad&&(j.load=a.videoLoad),U=w,_(L,j),a.removeTracksListener(j.audioTracks,"change",oe),a.removeTracksListener(n,"change",r),a.removeTracksListener(n,"addtrack",e),t)for(var i=0,s=n.length;i<s;i++)n[i].removeEventListener("cuechange",t)},this.init=function(e){a.retries=0,a.maxRetries=e.adType?0:3,Z(e);var t=S[M];(W=Object(c.a)(t))&&(a.supportsPlaybackRate=!1,L.waiting=w),a.eventsOn_(),S.length&&"hls"!==S[0].type&&this.sendMediaType(S),D.reason=""},this.preload=function(e){Z(e);var t=S[M],r=t.preload||"metadata";"none"!==r&&(j.setAttribute("preload",r),ne(t))},this.load=function(e){Z(e),te(e.starttime),this.setupSideloadedTracks(e.tracks)},this.play=function(){return U(),ee()},this.pause=function(){fe(),U=function(){if(j.paused&&j.currentTime&&a.isLive()){var e=se(),t=e-ie(),r=!Object(h.a)(t,C),i=e-j.currentTime;if(r&&e&&(i>15||i<0)){if(B=Math.max(e-10,e-t),!Object(n.s)(B))return;Y(j.currentTime),j.currentTime=B}}},j.pause()},this.seek=function(e){var t=a.getSeekRange(),r=e;if(e<0&&(r+=t.end),A||(A=!!se()),A){R=0;try{if(a.seeking=!0,a.isLive()&&Object(h.a)(t.end-t.start,C))if(G=Math.min(0,r-K),e<0)r+=Math.min(12,(Object(k.a)()-Q)/1e3);B=r,Y(j.currentTime),j.currentTime=r}catch(e){a.seeking=!1,R=r}}else R=r,o.Browser.firefox&&j.paused&&ee()},this.setVisibility=function(e){(e=!!e)||o.OS.android?Object(f.d)(a.container,{visibility:"visible",opacity:1}):Object(f.d)(a.container,{visibility:"",opacity:0})},this.setFullscreen=function(e){if(e=!!e){try{var t=j.webkitEnterFullscreen||j.webkitEnterFullScreen;t&&t.apply(j)}catch(e){return!1}return a.getFullscreen()}var r=j.webkitExitFullscreen||j.webkitExitFullScreen;return r&&r.apply(j),e},a.getFullscreen=function(){return P||!!j.webkitDisplayingFullscreen},this.setCurrentQuality=function(e){M!==e&&e>=0&&S&&S.length>e&&(M=e,D.reason="api",D.level={},this.trigger(i.J,{currentQuality:e,levels:$(S)}),t.qualityLabel=S[e].label,te(j.currentTime||0),ee())},this.setPlaybackRate=function(e){j.playbackRate=j.defaultPlaybackRate=e},this.getPlaybackRate=function(){return j.playbackRate},this.getCurrentQuality=function(){return M},this.getQualityLevels=function(){return Array.isArray(S)?S.map((function(e){return Object(s.a)(e)})):[]},this.getName=function(){return{name:"html5"}},this.setCurrentAudioTrack=ue,this.getAudioTracks=function(){return X||[]},this.getCurrentAudioTrack=function(){return H}}Object(n.j)(C.prototype,T.a),C.getName=function(){return{name:"html5"}};var O=C,E=220001,L=r(29),S=r(91),j=r(121),D=r(2);function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),R=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,B=function(){function e(e){this.fragments=[],this.url=e,this.live=!0,this.startSN=this.endSN=this.startCC=this.endCC=this.targetduration=this.totalduration=0}var t,r,n;return t=e,(r=[{key:"startProgramDateTime",get:function(){return this.fragments[0]?this.fragments[0].programDateTime:null}}])&&N(t.prototype,r),n&&N(t,n),e}(),I=function(){this.relurl=null,this.tagList=[],this.cc=this.sn=this.start=0,this.title=null,this.programDateTime=this.rawProgramDateTime=null};function M(e,t){var r,a,i=new B(t),s=0,o=0,c=0,u=null,d=new I,l=null;for(A.lastIndex=0;null!==(r=A.exec(e));){var h=r[1];if(h){d.duration=parseFloat(h);var f=(" "+r[2]).slice(1);d.title=f||null,d.tagList.push(f?["INF",h,f]:["INF",h])}else if(r[3]){if(Object(n.s)(d.duration)){var v=s++;d.start=o,d.sn=v,d.cc=c,d.relurl=(" "+r[3]).slice(1),P(d,u),i.fragments.push(d),u=d,o+=d.duration,d=new I}}else if(r[4])d.rawProgramDateTime=(" "+r[4]).slice(1),d.tagList.push(["PROGRAM-DATE-TIME",d.rawProgramDateTime]),null===l&&(l=i.fragments.length);else{for(r=r[0].match(R),a=1;a<r.length&&void 0===r[a];a++);var T=(" "+r[a+1]).slice(1),g=(" "+r[a+2]).slice(1);switch(r[a]){case"#":d.tagList.push(g?[T,g]:[T]);break;case"MEDIA-SEQUENCE":s=i.startSN=parseInt(T);break;case"TARGETDURATION":i.targetduration=parseFloat(T);break;case"ENDLIST":i.live=!1;break;case"DIS":c++,d.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(T);break;case"MAP":var m=d.rawProgramDateTime;(d=new I).rawProgramDateTime=m}}}if(!o)throw new Error("Invalid playlist");return u&&!u.relurl&&(i.fragments.pop(),o-=u.duration),i.totalduration=o,i.endSN=s-1,i.startCC=i.fragments[0]?i.fragments[0].cc:0,i.endCC=c,l&&function(e,t){for(var r=e[t],n=t-1;n>=0;n--){var a=e[n];a.programDateTime=r.programDateTime-1e3*a.duration,r=a}}(i.fragments,l),i}function P(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(n.s)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}var U=window.performance,X=window.URL;var H=function(){function e(e,t){var r=this;this.video=e,this.endTime=0,this.fetchTime=0,this.parsedTime=0,this.matches={},this.parent={src:"",url:null,topDomain:"",origin:"",pathname:""},this.xhr=null,this.onLevelLoaded=t,this.onResourceBufferFull=function(e){r.run(r.endTime),U.clearResourceTimings()},U.addEventListener("resourcetimingbufferfull",this.onResourceBufferFull)}var t=e.prototype;return t.run=function(e){var t=this,r=this.fetchTime,n=this.parent,a=this.video,i=a.src;if(i&&i.startsWith("http")&&document.body.contains(a)){if(n.src!==i){this.matches={},n.src=i;var s=n.url=new X(i);n.topDomain=s.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1"),n.origin=s.origin,n.pathname=s.pathname}for(var o=U.getEntriesByType("resource"),c=o.length;c--;){var u=o[c];if(u.responseEnd<=r)break;if("video"===u.initiatorType)switch(function(){var r=u.name;if(r===i)return t.fetchTime=Math.max(u.fetchStart,t.fetchTime),"break";var a=Object(D.a)(r);if("ts"===a||"aac"===a||"vtt"===a||"key"===a||"mp4"===a||"m4s"===a||"m4v"===a||"m4a"===a)return"continue";var s=t.matches[r];if(!s){var o="m3u8"===a,c=r.includes(n.topDomain),d=c&&r.startsWith(n.origin),l=d&&r.startsWith(n.origin+n.pathname);s=t.matches[r]={count:0,ignore:!1,errors:0,onlyVideo:!1,matches:{m3u8:o,topLevelDomain:c,origin:d,path:l}}}if(s.count++,s.onlyVideo=document.body.querySelectorAll("video audio").length<2,s.onlyVideo||s.matches.path||s.matches.m3u8&&s.matches.topLevelDomain){t.xhr&&Object(L.a)(t.xhr);var h=t;t.xhr=Object(L.b)({url:r,responseType:"text",oncomplete:function(t){var n=t.responseText;if(n){var a;try{a=M(n,r)}catch(e){F(s,1)}if(a&&a.fragments&&a.fragments.length){var i=h.onLevelLoaded,o=h.parsedTime;h.parsedTime=e,i(a,o,e)}}else F(s,3)},onerror:function(){F(s,3)}})}t.fetchTime=u.responseEnd}()){case"break":break;case"continue":continue}}o.length>50&&(0===this.fetchTime||U.now()-this.fetchTime>5e3)&&U.clearResourceTimings(),this.endTime=e}},t.destroy=function(){this.video=null,this.matches=null,this.onLevelLoaded=null,U.removeEventListener("resourcetimingbufferfull",this.onResourceBufferFull),this.onResourceBufferFull=null,this.xhr&&(Object(L.a)(this.xhr),this.xhr=null)},e}();function F(e,t){void 0===t&&(t=0),e.errors++,t&&e.errors>=t&&(e.ignore=!0)}var V=r(144),q=function(e,t,r){O.call(this,e,t,r);var s=this,o=s.init,c=s.load,u=s.destroy,d=s.setStartDateTime,l=s.getSeekRange,h=s.renderNatively;function f(e){Object(S.a)([e])?s.renderNatively=!1:s.renderNatively=h}function v(e){var t=e.sources[0];if(!s.fairplay||!Object.is(s.fairplay.source,t)){var r=t.drm;r&&r.fairplay?(s.fairplay=Object(n.j)({},{certificateUrl:"",processSpcUrl:"",licenseResponseType:"arraybuffer",licenseRequestHeaders:[],licenseRequestMessage:function(e){return e},licenseRequestFilter:function(){},licenseResponseFilter:function(){},extractContentId:function(e){return e.split("skd://")[1]},extractKey:function(e){return new Uint8Array(e)}},r.fairplay),s.fairplay.source=t,s.fairplay.destroy=function(){K(s.video,"webkitneedkey",T);var e=this.session;e&&(K(e,"webkitkeymessage",g),K(e,"webkitkeyerror",w))},W(s.video,"webkitneedkey",T)):s.fairplay&&(s.fairplay.destroy(),s.fairplay=null)}}function T(e){var t=e.target,r=e.initData;if(t.webkitKeys||t.webkitSetMediaKeys(new window.WebKitMediaKeys("com.apple.fps.1_0")),!t.webkitKeys)throw new Error("Could not create MediaKeys");var n=s.fairplay;n.initData=r,Object(L.b)(n.certificateUrl,(function(e){var a=new Uint8Array(e.response),i=n.extractContentId(G(r));"string"==typeof i&&(i=function(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0,a=e.length;n<a;n++)r[n]=e.charCodeAt(n);return r}(i));var s=function(e,t,r){var n=0,a=new ArrayBuffer(e.byteLength+4+t.byteLength+4+r.byteLength),i=new DataView(a);new Uint8Array(a,n,e.byteLength).set(e),n+=e.byteLength,i.setUint32(n,t.byteLength,!0),n+=4;var s=new Uint16Array(a,n,t.length);return s.set(t),n+=s.byteLength,i.setUint32(n,r.byteLength,!0),n+=4,new Uint8Array(a,n,r.byteLength).set(r),new Uint8Array(a,0,a.byteLength)}(r,i,a),o=t.webkitKeys.createSession("video/mp4",s);if(!o)throw new Error("Could not create key session");W(o,"webkitkeymessage",g),W(o,"webkitkeyerror",w),n.session=o}),x,{responseType:"arraybuffer"})}function g(e){var t=s.fairplay,r=e.target,n=e.message,a=new XMLHttpRequest;a.responseType=t.licenseResponseType,a.addEventListener("load",p,!1),a.addEventListener("error",_,!1);var i="";i="function"==typeof t.processSpcUrl?t.processSpcUrl(G(t.initData)):t.processSpcUrl,a.open("POST",i,!0),a.body=t.licenseRequestMessage(n,r),a.headers={},[].concat(t.licenseRequestHeaders||[]).forEach((function(e){a.setRequestHeader(e.name,e.value)}));var o=t.licenseRequestFilter.call(e.target,a,t);o&&"function"==typeof o.then?o.then((function(){m(a)})):m(a)}function m(e){Object.keys(e.headers).forEach((function(t){e.setRequestHeader(t,e.headers[t])})),e.send(e.body)}function p(e){var t=s.fairplay,r=e.target,n={};(r.getAllResponseHeaders()||"").trim().split(/[\r\n]+/).forEach((function(e){var t=e.split(": "),r=t.shift();n[r]=t.join(": ")}));var a={data:r.response,headers:n},i=t.licenseResponseFilter.call(e.target,a,t);i&&"function"==typeof i.then?i.then((function(){b(a.data)})):b(a.data)}function b(e){var t=s.fairplay.extractKey(e);"function"==typeof t.then?t.then(k):k(t)}function k(e){var t=s.fairplay.session,r=e;"string"==typeof r&&(r=function(e){for(var t=Object(a.a)(e),r=t.length,n=new Uint8Array(new ArrayBuffer(r)),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}(r)),t.update(r)}function x(e,t,r,n){n.code+=Q,n.key=y.q,s.trigger(i.G,n)}function w(e){s.trigger(i.G,new y.s(y.q,Q+650,e))}function _(e){s.trigger(i.G,new y.s(y.q,J+Object(j.a)(e.currentTarget.status),e))}this.processPlaylistMetadata=V.a,this.init=function(e){v(e),f(e),o.call(this,e)},this.load=function(e){v(e),f(e),c.call(this,e)},this.destroy=function(e){this.fairplay&&(this.fairplay.destroy(),this.fairplay=null),this.metaLoader&&(this.metaLoader.destroy(),this.metaLoader=null),u.call(this,e)},this.setStartDateTime=function(e){var t=this,r=this.video;this.loadAndParseHlsMetadata&&function(e){if(!!!(X&&e&&e.getStartDate&&U&&U.getEntriesByType&&U.clearResourceTimings&&U.addEventListener))return!1;var t=e.getStartDate(),r=t.getTime?t.getTime():NaN;return!isNaN(r)}(r)&&(this.startDateTime=e,(this.metaLoader=new H(r,(function(n,a,i){var s=n.fragments,o=(n.startProgramDateTime-e)/1e3;s.forEach((function(e){var n=e.start=e.startPTS=e.start+o;if(n>=a&&n<i&&e.tagList&&(e.tagList.forEach((function(r){var n=r[0],a=r[1];return t.processPlaylistMetadata(n,a,e)})),r.duration===1/0&&r.buffered&&r.buffered.start(0))){var s=r.buffered.start(0),c=t._tracksById.nativemetadata;if(c&&c.cues)for(var u=c.cues,d=0;d<u.length&&u[d].endTime<s;d++)c.removeCue(u[d])}}))}))).run(0));d.call(this,e)},this.getSeekRange=function(){var e=this.metaLoader,t=l.call(this);return e&&e.endTime!==t.end&&e.run(t.end),t}};function W(e,t,r){K(e,t,r),e.addEventListener(t,r,!1)}function K(e,t,r){e&&e.removeEventListener(t,r,!1)}function G(e){var t=new Uint16Array(e.buffer);return String.fromCharCode.apply(null,t)}Object(n.j)(q.prototype,O.prototype),q.getName=O.getName;t.default=q;var Q=225e3,J=226e3},76:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(2);function a(e){var t=[],r=(e=Object(n.i)(e)).split("\r\n\r\n");1===r.length&&(r=e.split("\n\n"));for(var a=0;a<r.length;a++)if("WEBVTT"!==r[a]){var s=i(r[a]);s.text&&t.push(s)}return t}function i(e){var t={},r=e.split("\r\n");1===r.length&&(r=e.split("\n"));var a=1;if(r[0].indexOf(" --\x3e ")>0&&(a=0),r.length>a+1&&r[a+1]){var i=r[a],s=i.indexOf(" --\x3e ");s>0&&(t.begin=Object(n.g)(i.substr(0,s)),t.end=Object(n.g)(i.substr(s+5)),t.text=r.slice(a+1).join("\r\n"))}return t}},78:function(e,t,r){"use strict";var n=window.VTTCue;function a(e){if("string"!=typeof e)return!1;return!!{start:!0,middle:!0,end:!0,left:!0,right:!0}[e.toLowerCase()]&&e.toLowerCase()}if(!n){(n=function(e,t,r){var n=this;n.hasBeenReset=!1;var i="",s=!1,o=e,c=t,u=r,d=null,l="",h=!0,f="auto",v="start",T="auto",g=100,m="middle";Object.defineProperty(n,"id",{enumerable:!0,get:function(){return i},set:function(e){i=""+e}}),Object.defineProperty(n,"pauseOnExit",{enumerable:!0,get:function(){return s},set:function(e){s=!!e}}),Object.defineProperty(n,"startTime",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}}),Object.defineProperty(n,"endTime",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}}),Object.defineProperty(n,"text",{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}}),Object.defineProperty(n,"region",{enumerable:!0,get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}}),Object.defineProperty(n,"vertical",{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&(!!{"":!0,lr:!0,rl:!0}[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t,this.hasBeenReset=!0}}),Object.defineProperty(n,"snapToLines",{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}}),Object.defineProperty(n,"line",{enumerable:!0,get:function(){return f},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}}),Object.defineProperty(n,"lineAlign",{enumerable:!0,get:function(){return v},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}}),Object.defineProperty(n,"position",{enumerable:!0,get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");T=e,this.hasBeenReset=!0}}),Object.defineProperty(n,"size",{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");g=e,this.hasBeenReset=!0}}),Object.defineProperty(n,"align",{enumerable:!0,get:function(){return m},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}}),n.displayState=void 0}).prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)}}t.a=n},79:function(e,t,r){"use strict";function n(e){return new Promise((function(t,r){if(e.paused)return r(a("NotAllowedError",0,"play() failed."));var n=function(){e.removeEventListener("play",i),e.removeEventListener("playing",s),e.removeEventListener("pause",s),e.removeEventListener("abort",s),e.removeEventListener("error",s)},i=function(){e.addEventListener("playing",s),e.addEventListener("abort",s),e.addEventListener("error",s),e.addEventListener("pause",s)},s=function(e){if(n(),"playing"!==e.type){var i='The play() request was interrupted by a "'+e.type+'" event.';return"error"===e.type?r(a("NotSupportedError",9,i)):r(a("AbortError",20,i))}t()};e.addEventListener("play",i)}))}function a(e,t,r){var n=new Error(r);return n.name=e,n.code=t,n}r.d(t,"a",(function(){return n}))},80:function(e,t,r){"use strict";function n(e,t){var r=e.kind||"cc";return e.default||e.defaulttrack?"default":e._id||e.file||r+t}function a(e,t){var r=e.label||e.name||e.language;return r||(r="Unknown CC",(t+=1)>1&&(r+=" ["+t+"]")),{label:r,unknownCount:t}}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},81:function(e,t,r){"use strict";var n=r(78),a=r(10),i=r(29),s=r(4),o=r(76),c=r(2),u=r(1);function d(e){throw new u.s(null,e)}function l(e,t,n){e.xhr=Object(i.b)(e.file,(function(i){!function(e,t,n,i){var l,h,v=e.responseXML?e.responseXML.firstChild:null;if(v)for("xml"===Object(s.b)(v)&&(v=v.nextSibling);v&&v.nodeType===v.COMMENT_NODE;)v=v.nextSibling;try{if(v&&"tt"===Object(s.b)(v)){if(!e.responseXML)throw new Error("Empty XML response");l=function(e){e||d(306007);var t=[],r=e.getElementsByTagName("p"),n=30,a=e.getElementsByTagName("tt");if(a&&a[0]){var i=parseFloat(a[0].getAttribute("ttp:frameRate")||"");isNaN(i)||(n=i)}r||d(306005),r.length||(r=e.getElementsByTagName("tt:p")).length||(r=e.getElementsByTagName("tts:p"));for(var s=0;s<r.length;s++){for(var o=r[s],u=o.getElementsByTagName("br"),l=0;l<u.length;l++){var h=u[l];h&&h.parentNode&&h.parentNode.replaceChild(e.createTextNode("\r\n"),h)}var f=o.innerHTML||o.textContent||o.text||"",v=Object(c.i)(f).replace(/>\s+</g,"><").replace(/(<\/?)tts?:/g,"$1").replace(/<br.*?\/>/g,"\r\n");if(v){var T=o.getAttribute("begin")||"",g=o.getAttribute("dur")||"",m=o.getAttribute("end")||"",p={begin:Object(c.g)(T,n),text:v};m?p.end=Object(c.g)(m,n):g&&(p.end=(p.begin||0)+Object(c.g)(g,n)),t.push(p)}}return t.length||d(306005),t}(e.responseXML),h=f(l),delete t.xhr,n(h)}else{var T=e.responseText;T.indexOf("WEBVTT")>=0?r.e(19).then(function(e){return r(150).default}.bind(null,r)).catch(Object(a.c)(301131)).then((function(e){var r=new e(window);h=[],r.oncue=function(e){h.push(e)},r.onflush=function(){delete t.xhr,n(h)},r.parse(T)})).catch((function(e){delete t.xhr,i(Object(u.A)(null,u.b,e))})):(l=Object(o.a)(T),h=f(l),delete t.xhr,n(h))}}catch(e){delete t.xhr,i(Object(u.A)(null,u.b,e))}}(i,e,t,n)}),(function(e,t,r,a){n(Object(u.z)(a,u.b))}))}function h(e){e&&e.forEach((function(e){var t=e.xhr;t&&(t.onload=null,t.onreadystatechange=null,t.onerror=null,"abort"in t&&t.abort()),delete e.xhr}))}function f(e){return e.map((function(e){return new n.a(e.begin,e.end,e.text)}))}r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return h}))},82:function(e,t,r){"use strict";function n(e,t){return e!==1/0&&Math.abs(e)>=Math.max(i(t),0)}function a(e,t){var r="VOD";return e===1/0?r="LIVE":e<0&&(r=n(e,i(t))?"DVR":"LIVE"),r}function i(e){return void 0===e?120:Math.max(e,0)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}))},88:function(e,t,r){"use strict";var n=r(81),a=r(80),i={TIT2:"title",TT2:"title",WXXX:"url",TPE1:"artist",TP1:"artist",TALB:"album",TAL:"album"};function s(e,t){for(var r,n,a,i=e.length,s="",o=t||0;o<i;)if(0!==(r=e[o++])&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(r);break;case 12:case 13:n=e[o++],s+=String.fromCharCode((31&r)<<6|63&n);break;case 14:n=e[o++],a=e[o++],s+=String.fromCharCode((15&r)<<12|(63&n)<<6|(63&a)<<0)}return s}function o(e){var t=function(e){for(var t="0x",r=0;r<e.length;r++)e[r]<16&&(t+="0"),t+=e[r].toString(16);return parseInt(t)}(e);return 127&t|(32512&t)>>1|(8323072&t)>>2|(2130706432&t)>>3}function c(e){return void 0===e&&(e=[]),e.reduce((function(e,t){if(!("value"in t)&&"data"in t&&t.data instanceof ArrayBuffer){var r=new Uint8Array(t.data),n=r.length;t={value:{key:"",data:""}};for(var a=10;a<14&&a<r.length&&0!==r[a];)t.value.key+=String.fromCharCode(r[a]),a++;var c=19,u=r[c];3!==u&&0!==u||(u=r[++c],n--);var d=0;if(1!==u&&2!==u)for(var l=c+1;l<n;l++)if(0===r[l]){d=l-c;break}if(d>0){var h=s(r.subarray(c,c+=d),0);if("PRIV"===t.value.key){if("com.apple.streaming.transportStreamTimestamp"===h){var f=1&o(r.subarray(c,c+=4)),v=o(r.subarray(c,c+=4))+(f?4294967296:0);t.value.data=v}else t.value.data=s(r,c+1);t.value.info=h}else t.value.info=h,t.value.data=s(r,c+1)}else{var T=r[c];t.value.data=1===T||2===T?function(e,t){for(var r=e.length-1,n="",a=t||0;a<r;)254===e[a]&&255===e[a+1]||(n+=String.fromCharCode((e[a]<<8)+e[a+1])),a+=2;return n}(r,c+1):s(r,c+1)}}if(i.hasOwnProperty(t.value.key)&&(e[i[t.value.key]]=t.value.data),t.value.info){var g=e[t.value.key];g!==Object(g)&&(g={},e[t.value.key]=g),g[t.value.info]=t.value.data}else e[t.value.key]=t.value.data;return e}),{})}var u=r(5),d=r(3),l=r(0),h={_itemTracks:null,_textTracks:null,_currentTextTrackIndex:-1,_tracksById:null,_cuesByTrackId:null,_cachedVTTCues:null,_metaCuesByTextTime:null,_unknownCount:0,_activeCues:null,_cues:null,textTrackChangeHandler:null,addTrackHandler:null,cueChangeHandler:null,renderNatively:!1,_initTextTracks:function(){this._textTracks=[],this._tracksById={},this._metaCuesByTextTime={},this._cuesByTrackId={},this._cachedVTTCues={},this._cues={},this._activeCues={},this._unknownCount=0},addTracksListener:function(e,t,r){e&&(this.removeTracksListener(e,t,r),this.instreamMode||(e.addEventListener?e.addEventListener(t,r):e["on"+t]=r))},removeTracksListener:function(e,t,r){e&&(e.removeEventListener&&r?e.removeEventListener(t,r):e["on"+t]=null)},clearTracks:function(){var e=this;Object(n.a)(this._itemTracks);var t=this._tracksById;if(t&&Object.keys(t).forEach((function(r){if(0===r.indexOf("nativemetadata")){var n=t[r];e.cueChangeHandler&&n.removeEventListener("cuechange",e.cueChangeHandler),p(e.renderNatively,[n],!0)}})),this._itemTracks=null,this._textTracks=null,this._tracksById=null,this._cuesByTrackId=null,this._metaCuesByTextTime=null,this._unknownCount=0,this._currentTextTrackIndex=-1,this._activeCues={},this._cues={},this.renderNatively){var r=this.video.textTracks;this.textTrackChangeHandler&&this.removeTracksListener(r,"change",this.textTrackChangeHandler),p(this.renderNatively,r,!0)}},clearMetaCues:function(){var e=this,t=this._tracksById,r=this._cachedVTTCues;t&&r&&Object.keys(t).forEach((function(n){if(0===n.indexOf("nativemetadata")){var a=t[n];p(e.renderNatively,[a],!1),a.mode="hidden",a.inuse=!0,a._id&&(r[a._id]={})}}))},clearCueData:function(e){var t=this._cachedVTTCues;t&&t[e]&&(t[e]={},this._tracksById&&(this._tracksById[e].data=[]))},disableTextTrack:function(){var e=this.getCurrentTextTrack();if(e){e.mode="disabled";var t=e._id;t&&0===t.indexOf("nativecaptions")&&(e.mode="hidden")}},enableTextTrack:function(){var e=this.getCurrentTextTrack();e&&(e.mode="showing")},getCurrentTextTrack:function(){if(this._textTracks)return this._textTracks[this._currentTextTrackIndex]},getSubtitlesTrack:function(){return this._currentTextTrackIndex},addTextTracks:function(e){var t=this,r=[];return e?(this._textTracks||this._initTextTracks(),e.forEach((function(e){if(!e.kind||b(e.kind)){var a=t._createTrack(e);t._addTrackToList(a),r.push(a),e.file&&(e.data=[],Object(n.b)(e,(function(e){a.sideloaded=!0,t.addVTTCuesToTrack(a,e)}),(function(e){t.trigger(d.ub,e)})))}})),this._textTracks&&this._textTracks.length&&this.trigger("subtitlesTracks",{tracks:this._textTracks}),r):r},setTextTracks:function(e){var t=this;if(this._currentTextTrackIndex=-1,e){if(this._textTracks){var r=this._tracksById;this._activeCues={},this._cues={},this._unknownCount=0,this._textTracks=this._textTracks.filter((function(e){var n=e._id;return t.renderNatively&&n&&0===n.indexOf("nativecaptions")?(delete r[n],!1):(e.name&&0===e.name.indexOf("Unknown")&&t._unknownCount++,0===n.indexOf("nativemetadata")&&"com.apple.streaming"===e.inBandMetadataTrackDispatchType&&delete r[n],!0)}),this)}else this._initTextTracks();if(e.length)for(var n=0,i=e.length,s=this._tracksById,o=this._cuesByTrackId;n<i;n++){var c=e[n],u=c._id||"";if(!u){if("captions"===c.kind||"metadata"===c.kind){if(u=c._id="native"+c.kind+n,!c.label&&"captions"===c.kind){var d=Object(a.b)(c,this._unknownCount);c.name=d.label,this._unknownCount=d.unknownCount}}else u=c._id=Object(a.a)(c,this._textTracks?this._textTracks.length:0);if(s[u])continue;c.inuse=!0}if(c.inuse&&!s[u])if("metadata"===c.kind){c.mode="hidden";var l=this.cueChangeHandler=this.cueChangeHandler||g.bind(this);c.removeEventListener("cuechange",l),c.addEventListener("cuechange",l),s[u]=c}else if(b(c.kind)){var h=c.mode,f=void 0;if(c.mode="hidden",!c.cues.length&&c.embedded)continue;if("disabled"===h&&0===u.indexOf("nativecaptions")||(c.mode=h),o[u]&&!o[u].loaded){for(var v=o[u].cues;f=v.shift();)m(this.renderNatively,c,f);c.mode=h,o[u].loaded=!0}this._addTrackToList(c)}}this.renderNatively&&this.addTrackListeners(e),this._textTracks&&this._textTracks.length&&this.trigger("subtitlesTracks",{tracks:this._textTracks})}},addTrackListeners:function(e){var t=this.textTrackChangeHandler=this.textTrackChangeHandler||f.bind(this);this.removeTracksListener(e,"change",t),this.addTracksListener(e,"change",t),(u.Browser.edge||u.Browser.firefox)&&(t=this.addTrackHandler=this.addTrackHandler||T.bind(this),this.removeTracksListener(e,"addtrack",t),this.addTracksListener(e,"addtrack",t))},setupSideloadedTracks:function(e){if(this.renderNatively){var t=e===this._itemTracks;t||Object(n.a)(this._itemTracks),this._itemTracks=e,e&&(t||(this.disableTextTrack(),this._clearSideloadedTextTracks(),this.addTextTracks(e)))}},setSubtitlesTrack:function(e){if(this.renderNatively){if(this._textTracks&&(0===e&&this._textTracks.forEach((function(e){e.mode=e.embedded?"hidden":"disabled"})),this._currentTextTrackIndex!==e-1)){this.disableTextTrack(),this._currentTextTrackIndex=e-1;var t=this.getCurrentTextTrack();t&&(t.mode="showing"),this.trigger("subtitlesTrackChanged",{currentTrack:this._currentTextTrackIndex+1,tracks:this._textTracks})}}else this.setCurrentSubtitleTrack&&this.setCurrentSubtitleTrack(e-1)},addCuesToTrack:function(e){var t=this._tracksById[e.name];if(t&&this._metaCuesByTextTime){t.source=e.source;for(var r=e.captions||[],n=[],a=!1,i=0;i<r.length;i++){var s=r[i],o=e.name+"_"+s.begin+"_"+s.end;if(!this._metaCuesByTextTime[o]){var c=this.createCue(s.begin,s.end,s.text);this._metaCuesByTextTime[o]=c,n.push(c),a=!0}}a&&n.sort((function(e,t){return e.start-t.start})),t.data=t.data||[],Array.prototype.push.apply(t.data,n)}},addCaptionsCue:function(e){if(e.text&&e.begin&&e.end&&this._metaCuesByTextTime){var t,r=e.trackid.toString(),n=this._tracksById&&this._tracksById[r];if(n||(n={kind:"captions",_id:r,data:[],default:!1},this.addTextTracks([n]),this.trigger("subtitlesTracks",{tracks:this._textTracks})),e.useDTS&&(n.source||(n.source=e.source||"mpegts")),t=e.begin+"_"+e.text,!this._metaCuesByTextTime[t]){var a=this.createCue(e.begin,e.end,e.text);this._metaCuesByTextTime[t]=a,n.data=n.data||[],n.data.push(a)}}},createCue:function(e,t,r){return new(window.VTTCue||window.TextTrackCue)(e,Math.max(t||0,e+.25),r)},addVTTCue:function(e,t){this._tracksById||this._initTextTracks();var r=e.track?e.track:"native"+e.type,n=this._tracksById[r],a="captions"===e.type?"Unknown CC":"ID3 Metadata",i=e.cue;if(!n){var s={kind:e.type,_id:r,label:a,default:!1};this.renderNatively||"metadata"===s.kind?((n=this._createTrack(s)).embedded=!0,this.setTextTracks(this.video.textTracks)):n=this.addTextTracks([s])[0]}if(this._cacheVTTCue(n,i,t)){var o=this.renderNatively||"metadata"===n.kind;return o?m(o,n,i):n.data.push(i),i}return null},addVTTCuesToTrack:function(e,t){if(this.renderNatively){var r,n=e._id,a=this._tracksById,i=this._cuesByTrackId,s=a[n];if(!s)return i||(i=this._cuesByTrackId={}),void(i[n]={cues:t,loaded:!1});if(!i[n]||!i[n].loaded)for(i[n]={cues:t,loaded:!0};r=t.shift();)m(this.renderNatively,s,r)}},parseNativeID3Cues:function(e,t){var r=this,n=e[e.length-1];if(!t||t.length!==e.length||!n._parsed&&!y(t[t.length-1],n)){var a=-1,i=-1;Array.prototype.reduce.call(e,(function(e,t){return t._parsed||!t.data&&!t.value||(t.startTime===i&&null!==t.endTime||(i=t.startTime,e[++a]=[]),e[a].push(t)),t._parsed=!0,e}),[]).forEach((function(e){var t=k(e);r.trigger(d.L,t)}))}},triggerActiveCues:function(e,t){var r=this,n=e.filter((function(e){if(t&&t.some((function(t){return y(e,t)})))return!1;if(e.data)return!0;var n=e.text?function(e){var t;try{t=JSON.parse(e.text)}catch(e){return null}var r={metadata:t};r.metadataTime=e.startTime,t.programDateTime&&(r.programDateTime=t.programDateTime);t.metadataType&&(r.metadataType=t.metadataType,delete t.metadataType);return r}(e):null;if(n)"emsg"===n.metadataType&&(n.metadata.messageData=e.value),r.trigger(d.K,n);else if(e.value)return!0;return!1}));if(n.length){var a=k(n);this.trigger(d.K,a)}},ensureMetaTracksActive:function(){for(var e=this.video.textTracks,t=e.length,r=0;r<t;r++){var n=e[r];"metadata"===n.kind&&"disabled"===n.mode&&(n.mode="hidden")}},_cacheVTTCue:function(e,t,r){var n=e.kind,a=e._id,i=this._cachedVTTCues;i[a]||(i[a]={});var s,o=i[a];switch(n){case"captions":case"subtitles":s=r||Math.floor(20*t.startTime);var c="_"+(t.line||"auto"),u=Math.floor(20*t.endTime),d=o[s+c]||o[s+1+c]||o[s-1+c];return!(d&&Math.abs(d-u)<=1)&&(o[s+c]=u,!0);case"metadata":var l=t.data?new Uint8Array(t.data).join(""):t.text;return!o[s=r||t.startTime+l]&&(o[s]=t.endTime,!0);default:return!1}},_addTrackToList:function(e){this._textTracks.push(e),this._tracksById[e._id]=e},_createTrack:function(e){var t,r=Object(a.b)(e,this._unknownCount),n=r.label;if(this._unknownCount=r.unknownCount,this.renderNatively||"metadata"===e.kind){var i=this.video.textTracks;(t=Object(l.m)(i,{label:n}))||(t=this.video.addTextTrack(e.kind,n,e.language||"")),t.default=e.default,t.mode="disabled",t.inuse=!0}else(t=e).data=t.data||[];return t._id||(t._id=Object(a.a)(e,this._textTracks?this._textTracks.length:0)),t},_clearSideloadedTextTracks:function(){if(this._textTracks){var e=this._textTracks.filter((function(e){return e.embedded||"subs"===e.groupid}));this._initTextTracks();var t=this._tracksById;e.forEach((function(e){t[e._id]=e})),this._textTracks=e}}};function f(){var e=this.video.textTracks,t=Object(l.k)(e,(function(e){return(e.inuse||!e._id)&&b(e.kind)}));if(this._textTracks&&!v.call(this,t)){for(var r=-1,n=0;n<this._textTracks.length;n++)if("showing"===this._textTracks[n].mode){r=n;break}r!==this._currentTextTrackIndex&&this.setSubtitlesTrack(r+1)}else this.setTextTracks(e)}function v(e){var t=this._textTracks,r=this._tracksById;if(e.length>t.length)return!0;for(var n=0;n<e.length;n++){var a=e[n];if(!a._id||!r[a._id])return!0}return!1}function T(e){var t=e.track;t&&t._id||this.setTextTracks(this.video.textTracks)}function g(e){var t=e.target,r=t.activeCues,n=t.cues,a=t._id,i=this._cues,s=this._activeCues;if(n&&n.length){var o=i[a];i[a]=Array.prototype.slice.call(n),this.parseNativeID3Cues(n,o)}else delete i[a];if(r&&r.length){var c=s[a],u=s[a]=Array.prototype.slice.call(r);this.triggerActiveCues(u,c)}else delete s[a]}function m(e,t,r){if(u.Browser.ie){var n=r;(e||"metadata"===t.kind)&&(n=new window.TextTrackCue(r.startTime,r.endTime,r.text)),function(e,t){var r=[],n=e.mode;e.mode="hidden";for(var a=e.cues,i=a.length-1;i>=0&&a[i].startTime>t.startTime;i--)r.unshift(a[i]),e.removeCue(a[i]);try{e.addCue(t),r.forEach((function(t){return e.addCue(t)}))}catch(e){console.error(e)}e.mode=n}(t,n)}else try{t.addCue(r)}catch(e){console.error(e)}}function p(e,t,r){t&&t.length&&Object(l.i)(t,(function(t){var n=t._id||"";if(r&&(t._id=void 0),!u.Browser.ie&&!u.Browser.safari||!e||!/^(native|subtitle|cc)/.test(n)){u.Browser.ie&&"disabled"===t.mode||(t.mode="disabled",t.mode="hidden");for(var a=t.cues.length;a--;)t.removeCue(t.cues[a]);t.embedded||(t.mode="disabled"),t.inuse=!1}}))}function b(e){return"subtitles"===e||"captions"===e}function k(e){var t=c(e);return{metadataType:"id3",metadataTime:e[0].startTime,metadata:t}}function y(e,t){return e.startTime===t.startTime&&e.endTime===t.endTime&&e.text===t.text&&e.data===t.data&&JSON.stringify(e.value)===JSON.stringify(t.value)}t.a=h},90:function(e,t,r){"use strict";function n(e){return e&&e.length?e.end(e.length-1):0}r.d(t,"a",(function(){return n}))},91:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r(10);function a(e){return window.WebGLRenderingContext&&e.some((function(e){return e.stereomode&&e.stereomode.length>0}))}function i(e,t,a){var i=function(e){a.trigger("warning",e)};return r.e(8).then(function(n){var a=new(0,r(94).default)(e,t);e.addPlugin("vr",a),a.on("error",i)}.bind(null,r)).catch(Object(n.c)(301132)).catch(i)}},92:function(e,t,r){"use strict";function n(e){return{bitrate:e.bitrate,label:e.label,width:e.width,height:e.height}}r.d(t,"a",(function(){return n}))}}]);